<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>运行环境 | Summer的博客</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/img/icon.ico">
    <meta name="description" content="Welcome to my blog, have a nice day!">
    <link rel="preload" href="/assets/css/0.styles.9d8515da.css" as="style"><link rel="preload" href="/assets/js/app.e02eea81.js" as="script"><link rel="preload" href="/assets/js/2.e7d4d83a.js" as="script"><link rel="preload" href="/assets/js/21.770384df.js" as="script"><link rel="prefetch" href="/assets/js/10.87c26a01.js"><link rel="prefetch" href="/assets/js/11.2a37ec72.js"><link rel="prefetch" href="/assets/js/12.fb2103e8.js"><link rel="prefetch" href="/assets/js/13.0411a075.js"><link rel="prefetch" href="/assets/js/14.1bbc7074.js"><link rel="prefetch" href="/assets/js/15.f60e9041.js"><link rel="prefetch" href="/assets/js/16.482c0c35.js"><link rel="prefetch" href="/assets/js/17.6404b7c5.js"><link rel="prefetch" href="/assets/js/18.9812a93a.js"><link rel="prefetch" href="/assets/js/19.4862c9d1.js"><link rel="prefetch" href="/assets/js/20.0fa3bf04.js"><link rel="prefetch" href="/assets/js/22.86310055.js"><link rel="prefetch" href="/assets/js/23.99bb4e1f.js"><link rel="prefetch" href="/assets/js/24.59fd610e.js"><link rel="prefetch" href="/assets/js/25.6bf8ef65.js"><link rel="prefetch" href="/assets/js/26.d65520b7.js"><link rel="prefetch" href="/assets/js/3.a165f856.js"><link rel="prefetch" href="/assets/js/4.bfbea725.js"><link rel="prefetch" href="/assets/js/5.14ed0ede.js"><link rel="prefetch" href="/assets/js/6.5286a640.js"><link rel="prefetch" href="/assets/js/7.fefc1cbd.js"><link rel="prefetch" href="/assets/js/8.d55f58f4.js"><link rel="prefetch" href="/assets/js/9.ed69bb97.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d8515da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/icon.ico" alt="Summer的博客" class="logo"> <span class="site-name can-hide">Summer的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS" class="mobile-dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CS/BasicCS/" class="nav-link">
  BasicCS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web前端/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/Web前端/初级前端知识点笔记/" class="nav-link">
  初级前端知识点笔记
</a></li><li class="dropdown-item"><!----> <a href="/Web前端/前端知识体系/" class="nav-link">
  前端知识体系
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="故事" class="dropdown-title"><span class="title">故事</span> <span class="arrow down"></span></button> <button type="button" aria-label="故事" class="mobile-dropdown-title"><span class="title">故事</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/故事/2019成长日记/" class="nav-link">
  2019成长日记
</a></li><li class="dropdown-item"><!----> <a href="/故事/2020年度总结/" class="nav-link">
  2020年度总结
</a></li><li class="dropdown-item"><!----> <a href="/故事/2021年度总结/" class="nav-link">
  2021年度总结
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS" class="dropdown-title"><span class="title">CS</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS" class="mobile-dropdown-title"><span class="title">CS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/CS/BasicCS/" class="nav-link">
  BasicCS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web前端" class="dropdown-title"><span class="title">Web前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web前端" class="mobile-dropdown-title"><span class="title">Web前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Web前端/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/Web前端/初级前端知识点笔记/" class="nav-link">
  初级前端知识点笔记
</a></li><li class="dropdown-item"><!----> <a href="/Web前端/前端知识体系/" class="nav-link">
  前端知识体系
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="故事" class="dropdown-title"><span class="title">故事</span> <span class="arrow down"></span></button> <button type="button" aria-label="故事" class="mobile-dropdown-title"><span class="title">故事</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/故事/2019成长日记/" class="nav-link">
  2019成长日记
</a></li><li class="dropdown-item"><!----> <a href="/故事/2020年度总结/" class="nav-link">
  2020年度总结
</a></li><li class="dropdown-item"><!----> <a href="/故事/2021年度总结/" class="nav-link">
  2021年度总结
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端知识体系</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Web%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/" aria-current="page" class="sidebar-link">简介</a></li><li><a href="/Web前端/前端知识体系/1、CSS基础知识.html" class="sidebar-link">1、CSS基础知识</a></li><li><a href="/Web前端/前端知识体系/2、JS基础知识.html" class="sidebar-link">2、JS基础知识</a></li><li><a href="/Web前端/前端知识体系/3、作用域和闭包.html" class="sidebar-link">3、作用域和闭包</a></li><li><a href="/Web前端/前端知识体系/4、JS-Web-API.html" class="sidebar-link">4、JS-Web-API</a></li><li><a href="/Web前端/前端知识体系/5、开发环境（不论前后端，程序员通用.html" class="sidebar-link">5、开发环境（不论前后端，程序员通用</a></li><li><a href="/Web前端/前端知识体系/6、运行环境.html" class="active sidebar-link">6、运行环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web前端/前端知识体系/6、运行环境.html#运行环境" class="sidebar-link">运行环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Web前端/前端知识体系/6、运行环境.html#一-页面加载-背" class="sidebar-link">（一）页面加载（背）</a></li><li class="sidebar-sub-header"><a href="/Web前端/前端知识体系/6、运行环境.html#二-性能优化" class="sidebar-link">（二）性能优化</a></li><li class="sidebar-sub-header"><a href="/Web前端/前端知识体系/6、运行环境.html#三-安全" class="sidebar-link">（三）安全</a></li></ul></li></ul></li><li><a href="/Web前端/前端知识体系/7、HTTP协议.html" class="sidebar-link">7、HTTP协议</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="运行环境"><a href="#运行环境" class="header-anchor">#</a> 运行环境</h2> <h3 id="一-页面加载-背"><a href="#一-页面加载-背" class="header-anchor">#</a> （一）页面加载（背）</h3> <ul><li>加载资源的形式
<ul><li>资源的形式
<ul><li>html 代码</li> <li>媒体文件，如图片，视频等</li> <li>js、css</li></ul></li></ul></li> <li>加载资源的过程
<ul><li>DNS 解析： 域名  -&gt; IP地址 （将域名解析为IP地址）</li> <li>浏览器根据 IP 地址向服务器发起 http 请求</li> <li>服务器处理 http 请求，并返回给浏览器</li></ul></li> <li>渲染页面的过程
<ul><li>根据 HTML 代码生成 DOM Tree</li> <li>根据 CSS 代码生成 CSSOM</li> <li>将 DOM Tree 和 CSSOM 整合形成  Render Tree（渲染树）
<ul><li>为什么要加上cssom才能整合呢？因为css里有样式的数据，如宽高。元素没有宽高根本就不显示。</li></ul></li> <li>浏览器根据 Render Tree 渲染页面</li> <li>遇到 &lt;script&gt; 则暂停渲染，优先加载并执行JS代码，完成再继续。
<ul><li>渲染出来可能没有用，因为 js 有可能会改变 render tree 的结构，干脆遇到 js 就暂停</li></ul></li> <li>直至把 Render Tree 渲染完成。</li></ul></li></ul> <p><strong>1、为何建议 把 css 放在 header 中？</strong></p> <p><em>A:</em>  把 css 的代码放在header中，是为了 DOM 树生成之前就加载完，DOM树生成之后，直接和所有的CSS整合生成一个渲染树，这样就不用再重复了。</p> <p><strong>2、为何建议把 JS 放在 body 最后？</strong></p> <p><em>A：</em> 因为一遇到  &lt;script&gt; 就暂停渲染，如果不放在在body最后，渲染就会走走停停。应该是把能渲染的HTML全部先渲染出来，再执行 html。</p> <p><strong>3、请描述从输入 url 搭配渲染出页面的整个过程。</strong></p> <p><em>A：</em> 提示：</p> <p>下载资源∶各个资源类型，下载过程
渲染页面:结合html css javascript图片等</p> <p>（答案已经在上面了）</p> <p><strong>4、window.onload 和 DOMContentLoaded 的区别是什么？</strong></p> <p><em>A:</em></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">'load '</span> <span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//页面的全部资源加载完才会执行，包括图片、视频等)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded '</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// DOM 渲染完即可执行，此时图片、视频还可能没有加载完 (推荐)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="二-性能优化"><a href="#二-性能优化" class="header-anchor">#</a> （二）性能优化</h3> <h4 id="_1、性能优化的原则"><a href="#_1、性能优化的原则" class="header-anchor">#</a> 1、性能优化的原则</h4> <ul><li>多使用内存、缓存或其他方法</li> <li>减少CPU计算量，减少网络加载耗时</li> <li>(适用于所有编程的性能优化——空间换时间)</li></ul> <h4 id="_2、性能优化从何入手"><a href="#_2、性能优化从何入手" class="header-anchor">#</a> 2、性能优化从何入手？</h4> <ul><li>让加载更快
<ul><li>减少资源体积：压缩代码（最后上线时压缩成了只有一行）</li> <li>减少访问次数：合并代码， SSR服务器端渲染，缓存</li> <li>使用更快的网络：CDN（根据区域分配离用户最近的一个服务器）</li></ul></li> <li>让渲染更快
<ul><li>CSS 放在head ，JS放在body最下面</li> <li>尽早开始执行JS，用DOMContentLoaded 触发</li> <li>懒加载（图片懒加载，上滑加载更多)</li> <li>对DOM查询进行缓存</li> <li>频繁DOM操作，合并到一起插入DOM结构</li> <li>节流throttle防抖debounce</li></ul></li></ul> <h4 id="_3、资源合并"><a href="#_3、资源合并" class="header-anchor">#</a> 3、资源合并</h4> <h4 id="_4、缓存"><a href="#_4、缓存" class="header-anchor">#</a> 4、缓存</h4> <ul><li>静态资源加hash后缀，根据文件内容计算hash</li> <li>文件内容不变，则hash 不变，则url不变</li> <li>url和文件不变，则会自动触发http缓存机制，返回304</li></ul> <h4 id="_5、cdn"><a href="#_5、cdn" class="header-anchor">#</a> 5、CDN</h4> <h4 id="_6、ssr"><a href="#_6、ssr" class="header-anchor">#</a> 6、SSR</h4> <ul><li>服务器端渲染:将网页和数据一起加载，一起渲染</li> <li>非SSR （前后端分离)∶先加载网页，再加载数据，再渲染数据</li> <li>早先的JSP ASP PHP就是前后端分离，现在的vue React SSR</li></ul> <h4 id="_7、懒加载"><a href="#_7、懒加载" class="header-anchor">#</a> 7、懒加载</h4> <h4 id="_8、缓存dom查询"><a href="#_8、缓存dom查询" class="header-anchor">#</a> 8、缓存DOM查询</h4> <h4 id="_9、多个dom操作一起插入到dom结构"><a href="#_9、多个dom操作一起插入到dom结构" class="header-anchor">#</a> 9、多个DOM操作一起插入到DOM结构</h4> <h4 id="_10、-默写-举例子说明什么是防抖-debounce"><a href="#_10、-默写-举例子说明什么是防抖-debounce" class="header-anchor">#</a> 10、*[默写]*举例子说明什么是防抖（debounce）</h4> <ul><li><p>监听一个输入框的，文字变化后触发change 事件</p></li> <li><p>直接用keyup 事件，则会频发触发change 事件</p></li> <li><p>防抖:  用户输入结束或暂停时，才会触发change事件</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> ipt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'input1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
ipt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 模拟触发 change 事件</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

        <span class="token comment">// 清空定时器</span>
        timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//  将上面的代码封装进一个函数里</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">100</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// delay = 100 是默认值</span>
    <span class="token comment">// timer 是闭包中的,数据不会被外界轻易拿到，因为不希望timer被外界修改</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// fn.apply(this, arguments)  // 这个 arguments 就是 e（事件） </span>
            <span class="token comment">// 上面这句更全面。但是不容易理解就写成下面：</span>
            fn（）
            timer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
ipt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div></li></ul> <h4 id="_11、-默写-举例子说明什么是节流-throttle"><a href="#_11、-默写-举例子说明什么是节流-throttle" class="header-anchor">#</a> 11、*[默写]*举例子说明什么是节流（throttle）</h4> <ul><li><p>拖拽一个元素时，要随时拿到该元素被拖拽的位置</p></li> <li><p>直接用drag事件，则会频发触发，很容易导致卡顿</p></li> <li><p>节流:无论拖拽速度多快，都会每隔100ms触发一次</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
div1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'drag'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>offsetX<span class="token punctuation">,</span> e<span class="token punctuation">.</span>offsetY<span class="token punctuation">)</span>
        timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 封装成一个兼容的函数</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">100</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
            timer <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
div1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'drag'</span><span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>offsetX<span class="token punctuation">,</span> e<span class="token punctuation">.</span>offsetY<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li></ul> <h3 id="三-安全"><a href="#三-安全" class="header-anchor">#</a> （三）安全</h3> <h4 id="_1、常见的web前端攻击方式有哪些"><a href="#_1、常见的web前端攻击方式有哪些" class="header-anchor">#</a> 1、常见的web前端攻击方式有哪些？</h4> <ul><li><p><strong>XSS 跨站请求攻击</strong></p> <ul><li><p>一个博客网站，我发表一篇博客，其中嵌入&lt;script&gt;脚本</p></li> <li><p>脚本内容:获取cookie ，发送到我的服务器（服务器配合跨域)</p></li> <li><p>发布这篇博客，有人查看它，我轻松收割访问者的cookie</p></li> <li><p>预防办法：</p> <ul><li></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>替换特殊字符，如<span class="token operator">&lt;</span>变为<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">&gt;</span> 变为<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>变为<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>script<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>，直接显示，而不会作为脚本执行
前端要替换，后端也要替换，都做总不会有错
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li> <li><p><strong>XSRF 跨站请求伪造</strong></p> <ul><li>你正在购物，看中了某个商品，商品id是100</li> <li>付费接口是xxx.com/pay?id=100，但没有任何验证</li> <li>我是攻击者，我看中了一个商品，id是200</li> <li>我向你发送一封电子邮件，邮件标题很吸引人</li> <li>但邮件正文隐藏着&lt;img src=xXx.com/pay?id=200 /&gt;</li> <li>你一查看邮件，就帮我购买了id是200的商品</li> <li>预防办法
<ul><li>使用post接口</li> <li>增加验证，例如密码、短信验证码、指纹等</li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Web前端/前端知识体系/5、开发环境（不论前后端，程序员通用.html" class="prev">
        5、开发环境（不论前后端，程序员通用
      </a></span> <span class="next"><a href="/Web前端/前端知识体系/7、HTTP协议.html">
        7、HTTP协议
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e02eea81.js" defer></script><script src="/assets/js/2.e7d4d83a.js" defer></script><script src="/assets/js/21.770384df.js" defer></script>
  </body>
</html>
